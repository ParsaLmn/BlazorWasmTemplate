@page "/"
@using BlazorTemplate.Components;
@using BlazorTemplate.CustomComponents
@using Microsoft.AspNetCore.Authorization;
@inherits AppComponentBase
@attribute [Authorize(Roles = "admin")]

<PageTitle>@Localizer[nameof(General.HomePageTitle)]</PageTitle>

<h1>سلام</h1>

<div class="row">
    <div class="col">
        <FloatLabelInput @bind-TextValue=Firstname InputType="text" Label="نام" Class="my-2" InputClass="px-1 pt-2" />
        <small>@Firstname</small>
    </div>
    <div class="col">
        <FloatLabelInput InputType="text" Label="نام خانوادگی" Class="my-2" InputClass="px-1 pt-2" />
    </div>
    <div class="col">
        <FloatLabelInput InputType="password" Label="رمز عبور" Class="my-2" InputClass="px-1 pt-2" />
    </div>
</div>
<div class="row">
    <div class="col">
        <FloatLabelInput InputType="number" Label="کد ملی" Class="my-2" InputClass="px-1 pt-2" />
    </div>
</div>

<DropDown Class="btn bg-transparent text-dark shadow-none" HasAvatar=true IsRightSide=true>
    <a href="/editProfile">ویرایش پروفایل</a>
    <a href="/counter">خروج</a>
</DropDown>

@if (_show)
{
    <StickyMessageBar IsDismissable=false Message="@text" Class="bg-success text-white" OnDismiss="()=>_show=false" />
}

<button class="btn btn-sm btn-primary" @onclick="test" type="button">test notification</button>

@code {
    public string Firstname { get; set; } = "parsa";

    bool _show = false;
    string text;

    void test()
    {
        _show = true;
        text = "سلام کاربر عزیز";
        StateHasChanged();
    }
}